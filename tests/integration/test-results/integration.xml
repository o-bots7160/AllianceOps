<?xml version="1.0" encoding="UTF-8" ?>
<testsuites name="vitest tests" tests="95" failures="6" errors="0" time="11.378792214">
    <testsuite name="data-integrity/statbotics-comparison.test.ts" timestamp="2026-02-27T05:11:39.702Z" hostname="9bec610576e0" tests="3" failures="0" errors="0" skipped="0" time="2.337704084">
        <testcase classname="data-integrity/statbotics-comparison.test.ts" name="Statbotics Data Integrity &gt; event teams have EPA data matching Statbotics" time="0.390436417">
        </testcase>
        <testcase classname="data-integrity/statbotics-comparison.test.ts" name="Statbotics Data Integrity &gt; team site data matches Statbotics for team 7160" time="0.930841792">
        </testcase>
        <testcase classname="data-integrity/statbotics-comparison.test.ts" name="Statbotics Data Integrity &gt; batch output matches individual Statbotics calls" time="1.016075042">
        </testcase>
    </testsuite>
    <testsuite name="data-integrity/tba-comparison.test.ts" timestamp="2026-02-27T05:11:39.706Z" hostname="9bec610576e0" tests="5" failures="0" errors="0" skipped="5" time="0">
        <testcase classname="data-integrity/tba-comparison.test.ts" name="TBA Data Integrity &gt; events count and keys match TBA" time="0">
            <skipped/>
        </testcase>
        <testcase classname="data-integrity/tba-comparison.test.ts" name="TBA Data Integrity &gt; match count and alliances match TBA for event" time="0">
            <skipped/>
        </testcase>
        <testcase classname="data-integrity/tba-comparison.test.ts" name="TBA Data Integrity &gt; all TBA team numbers present in our event teams" time="0">
            <skipped/>
        </testcase>
        <testcase classname="data-integrity/tba-comparison.test.ts" name="TBA Data Integrity &gt; ranking positions match TBA" time="0">
            <skipped/>
        </testcase>
        <testcase classname="data-integrity/tba-comparison.test.ts" name="TBA Data Integrity &gt; team events match TBA for team 7160" time="0">
            <skipped/>
        </testcase>
    </testsuite>
    <testsuite name="endpoints/event-matches.test.ts" timestamp="2026-02-27T05:11:39.709Z" hostname="9bec610576e0" tests="6" failures="0" errors="0" skipped="0" time="1.293323334">
        <testcase classname="endpoints/event-matches.test.ts" name="GET /api/event/{eventKey}/matches &gt; returns matches for a valid event" time="0.676092084">
        </testcase>
        <testcase classname="endpoints/event-matches.test.ts" name="GET /api/event/{eventKey}/matches &gt; matches have red and blue alliances" time="0.004410209">
        </testcase>
        <testcase classname="endpoints/event-matches.test.ts" name="GET /api/event/{eventKey}/matches &gt; includes score_breakdown when breakdowns=true" time="0.111085251">
        </testcase>
        <testcase classname="endpoints/event-matches.test.ts" name="GET /api/event/{eventKey}/matches &gt; returns empty or error for invalid event key" time="0.245966">
        </testcase>
        <testcase classname="endpoints/event-matches.test.ts" name="GET /api/event/{eventKey}/matches &gt; handles malformed event key format" time="0.253294167">
        </testcase>
        <testcase classname="endpoints/event-matches.test.ts" name="GET /api/event/{eventKey}/matches &gt; returns 404 for missing path param" time="0.001881416">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/event-rankings.test.ts" timestamp="2026-02-27T05:11:39.712Z" hostname="9bec610576e0" tests="6" failures="2" errors="0" skipped="0" time="0.9100985">
        <testcase classname="endpoints/event-rankings.test.ts" name="GET /api/event/{eventKey}/rankings &gt; returns rankings for a valid event" time="0.310340834">
            <failure message="expected false to be true // Object.is equality" type="AssertionError">
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ endpoints/event-rankings.test.ts:19:42
            </failure>
        </testcase>
        <testcase classname="endpoints/event-rankings.test.ts" name="GET /api/event/{eventKey}/rankings &gt; rankings have rank and team_key" time="0.003527833">
        </testcase>
        <testcase classname="endpoints/event-rankings.test.ts" name="GET /api/event/{eventKey}/rankings &gt; rankings are correctly ordered" time="0.002739916">
        </testcase>
        <testcase classname="endpoints/event-rankings.test.ts" name="GET /api/event/{eventKey}/rankings &gt; returns empty or error for invalid event key" time="0.406568625">
            <failure message="Target cannot be null or undefined." type="AssertionError">
AssertionError: Target cannot be null or undefined.
 ❯ endpoints/event-rankings.test.ts:45:29
            </failure>
        </testcase>
        <testcase classname="endpoints/event-rankings.test.ts" name="GET /api/event/{eventKey}/rankings &gt; handles event with no rankings" time="0.185849583">
        </testcase>
        <testcase classname="endpoints/event-rankings.test.ts" name="GET /api/event/{eventKey}/rankings &gt; returns 404 for missing path param" time="0.000919458">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/event-teams.test.ts" timestamp="2026-02-27T05:11:39.716Z" hostname="9bec610576e0" tests="6" failures="0" errors="0" skipped="0" time="0.591727667">
        <testcase classname="endpoints/event-teams.test.ts" name="GET /api/event/{eventKey}/teams &gt; returns enriched teams for a valid event" time="0.00409525">
        </testcase>
        <testcase classname="endpoints/event-teams.test.ts" name="GET /api/event/{eventKey}/teams &gt; teams have TBA and Statbotics fields" time="0.002541542">
        </testcase>
        <testcase classname="endpoints/event-teams.test.ts" name="GET /api/event/{eventKey}/teams &gt; includes team 7160 at the expected event" time="0.002457542">
        </testcase>
        <testcase classname="endpoints/event-teams.test.ts" name="GET /api/event/{eventKey}/teams &gt; returns empty or error for invalid event key" time="0.132012042">
        </testcase>
        <testcase classname="endpoints/event-teams.test.ts" name="GET /api/event/{eventKey}/teams &gt; handles nonsensical event key" time="0.241889">
        </testcase>
        <testcase classname="endpoints/event-teams.test.ts" name="GET /api/event/{eventKey}/teams &gt; handles very old event key" time="0.2082975">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/events.test.ts" timestamp="2026-02-27T05:11:39.719Z" hostname="9bec610576e0" tests="6" failures="1" errors="0" skipped="0" time="0.732468875">
        <testcase classname="endpoints/events.test.ts" name="GET /api/events &gt; returns an array of events for a valid year" time="0.400104875">
        </testcase>
        <testcase classname="endpoints/events.test.ts" name="GET /api/events &gt; includes the expected event key" time="0.003030042">
        </testcase>
        <testcase classname="endpoints/events.test.ts" name="GET /api/events &gt; events have required fields" time="0.004570417">
        </testcase>
        <testcase classname="endpoints/events.test.ts" name="GET /api/events &gt; returns 400 for missing year param" time="0.001711167">
        </testcase>
        <testcase classname="endpoints/events.test.ts" name="GET /api/events &gt; returns 400 for non-numeric year" time="0.078491083">
            <failure message="expected 200 to be 400 // Object.is equality" type="AssertionError">
AssertionError: expected 200 to be 400 // Object.is equality

- Expected
+ Received

- 400
+ 200

 ❯ endpoints/events.test.ts:47:24
            </failure>
        </testcase>
        <testcase classname="endpoints/events.test.ts" name="GET /api/events &gt; returns empty array for very old year gracefully" time="0.244198833">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/health.test.ts" timestamp="2026-02-27T05:11:39.721Z" hostname="9bec610576e0" tests="6" failures="1" errors="0" skipped="0" time="0.017286834">
        <testcase classname="endpoints/health.test.ts" name="GET /api/health &gt; returns 200 with status, timestamp, and version" time="0.002550708">
        </testcase>
        <testcase classname="endpoints/health.test.ts" name="GET /api/health &gt; returns a recent ISO timestamp" time="0.003201083">
        </testcase>
        <testcase classname="endpoints/health.test.ts" name="GET /api/health &gt; returns version as a string" time="0.0048715">
        </testcase>
        <testcase classname="endpoints/health.test.ts" name="GET /api/health &gt; returns 404 or 405 for POST method" time="0.003975792">
        </testcase>
        <testcase classname="endpoints/health.test.ts" name="GET /api/health &gt; returns 404 for missing route segment" time="0.000631833">
        </testcase>
        <testcase classname="endpoints/health.test.ts" name="GET /api/health &gt; handles HEAD request" time="0.001976042">
            <failure message="expected 404 to be 200 // Object.is equality" type="AssertionError">
AssertionError: expected 404 to be 200 // Object.is equality

- Expected
+ Received

- 200
+ 404

 ❯ endpoints/health.test.ts:43:24
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="endpoints/me.test.ts" timestamp="2026-02-27T05:11:39.723Z" hostname="9bec610576e0" tests="6" failures="0" errors="0" skipped="0" time="0.042678708">
        <testcase classname="endpoints/me.test.ts" name="GET /api/me &gt; returns user profile for authenticated user" time="0.005348125">
        </testcase>
        <testcase classname="endpoints/me.test.ts" name="GET /api/me &gt; includes team memberships for coach" time="0.003627583">
        </testcase>
        <testcase classname="endpoints/me.test.ts" name="GET /api/me &gt; returns user profile with email/displayName" time="0.007886792">
        </testcase>
        <testcase classname="endpoints/me.test.ts" name="GET /api/me &gt; returns 401 for no auth header" time="0.007116917">
        </testcase>
        <testcase classname="endpoints/me.test.ts" name="GET /api/me &gt; returns 401 for malformed x-ms-client-principal" time="0.007222625">
        </testcase>
        <testcase classname="endpoints/me.test.ts" name="GET /api/me &gt; returns 401 for anonymous identity provider" time="0.011017125">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/picklists.test.ts" timestamp="2026-02-27T05:11:39.725Z" hostname="9bec610576e0" tests="6" failures="0" errors="0" skipped="0" time="0.039071375">
        <testcase classname="endpoints/picklists.test.ts" name="Picklist CRUD &gt; PUT /api/teams/{teamId}/event/{eventKey}/picklist &gt; creates a picklist with entries" time="0.015585625">
        </testcase>
        <testcase classname="endpoints/picklists.test.ts" name="Picklist CRUD &gt; GET /api/teams/{teamId}/event/{eventKey}/picklist &gt; retrieves picklist with entries" time="0.006183083">
        </testcase>
        <testcase classname="endpoints/picklists.test.ts" name="Picklist CRUD &gt; PUT (update entries) &gt; updates entries with reordered ranks and new notes" time="0.007420833">
        </testcase>
        <testcase classname="endpoints/picklists.test.ts" name="Picklist CRUD &gt; Access control &gt; returns 403 for non-member" time="0.003504292">
        </testcase>
        <testcase classname="endpoints/picklists.test.ts" name="Picklist CRUD &gt; Access control &gt; returns 400 for invalid body" time="0.003646791">
        </testcase>
        <testcase classname="endpoints/picklists.test.ts" name="Picklist CRUD &gt; Access control &gt; returns 401 with no auth" time="0.002252666">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/plans.test.ts" timestamp="2026-02-27T05:11:39.728Z" hostname="9bec610576e0" tests="6" failures="0" errors="0" skipped="0" time="0.031776959">
        <testcase classname="endpoints/plans.test.ts" name="Match Plans CRUD &gt; PUT /api/teams/{teamId}/event/{eventKey}/match/{matchKey}/plan &gt; creates a new plan" time="0.011164459">
        </testcase>
        <testcase classname="endpoints/plans.test.ts" name="Match Plans CRUD &gt; GET /api/teams/{teamId}/event/{eventKey}/match/{matchKey}/plan &gt; retrieves the plan with duties" time="0.004816125">
        </testcase>
        <testcase classname="endpoints/plans.test.ts" name="Match Plans CRUD &gt; PUT (update existing plan) &gt; updates plan with modified duties" time="0.006222458">
        </testcase>
        <testcase classname="endpoints/plans.test.ts" name="Match Plans CRUD &gt; Access control &gt; returns 403 for non-member" time="0.002945834">
        </testcase>
        <testcase classname="endpoints/plans.test.ts" name="Match Plans CRUD &gt; Access control &gt; returns 400 for invalid body" time="0.00334975">
        </testcase>
        <testcase classname="endpoints/plans.test.ts" name="Match Plans CRUD &gt; Access control &gt; returns 401 with no auth" time="0.002755">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/team-events.test.ts" timestamp="2026-02-27T05:11:39.731Z" hostname="9bec610576e0" tests="6" failures="0" errors="0" skipped="0" time="0.733772667">
        <testcase classname="endpoints/team-events.test.ts" name="GET /api/team/{teamNumber}/events &gt; returns events for team 7160 including expected event" time="0.20787875">
        </testcase>
        <testcase classname="endpoints/team-events.test.ts" name="GET /api/team/{teamNumber}/events &gt; events have required fields" time="0.004037583">
        </testcase>
        <testcase classname="endpoints/team-events.test.ts" name="GET /api/team/{teamNumber}/events &gt; returns events for team 6328" time="0.126082875">
        </testcase>
        <testcase classname="endpoints/team-events.test.ts" name="GET /api/team/{teamNumber}/events &gt; returns empty or error for invalid team number" time="0.104214417">
        </testcase>
        <testcase classname="endpoints/team-events.test.ts" name="GET /api/team/{teamNumber}/events &gt; returns 400 for missing year" time="0.0033695">
        </testcase>
        <testcase classname="endpoints/team-events.test.ts" name="GET /api/team/{teamNumber}/events &gt; returns empty for team with no events in year" time="0.287783708">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/team-site-batch.test.ts" timestamp="2026-02-27T05:11:39.734Z" hostname="9bec610576e0" tests="6" failures="0" errors="0" skipped="0" time="3.983509002">
        <testcase classname="endpoints/team-site-batch.test.ts" name="POST /api/teams/site-batch &gt; returns data for multiple teams" time="0.003673417">
        </testcase>
        <testcase classname="endpoints/team-site-batch.test.ts" name="POST /api/teams/site-batch &gt; works with a single team" time="0.007133958">
        </testcase>
        <testcase classname="endpoints/team-site-batch.test.ts" name="POST /api/teams/site-batch &gt; accepts exactly 10 teams" time="3.964393294">
        </testcase>
        <testcase classname="endpoints/team-site-batch.test.ts" name="POST /api/teams/site-batch &gt; rejects empty array" time="0.003161833">
        </testcase>
        <testcase classname="endpoints/team-site-batch.test.ts" name="POST /api/teams/site-batch &gt; rejects more than 10 teams" time="0.002634833">
        </testcase>
        <testcase classname="endpoints/team-site-batch.test.ts" name="POST /api/teams/site-batch &gt; rejects non-JSON body" time="0.002262375">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/team-site.test.ts" timestamp="2026-02-27T05:11:39.736Z" hostname="9bec610576e0" tests="6" failures="0" errors="0" skipped="0" time="0.479351709">
        <testcase classname="endpoints/team-site.test.ts" name="GET /api/team/{teamNumber}/site &gt; returns site data for team 7160" time="0.002266667">
        </testcase>
        <testcase classname="endpoints/team-site.test.ts" name="GET /api/team/{teamNumber}/site &gt; data has expected structure" time="0.002229333">
        </testcase>
        <testcase classname="endpoints/team-site.test.ts" name="GET /api/team/{teamNumber}/site &gt; meta has cache fields" time="0.002116375">
        </testcase>
        <testcase classname="endpoints/team-site.test.ts" name="GET /api/team/{teamNumber}/site &gt; returns empty or error for invalid team number" time="0.233447167">
        </testcase>
        <testcase classname="endpoints/team-site.test.ts" name="GET /api/team/{teamNumber}/site &gt; handles far-future year" time="0.233923208">
        </testcase>
        <testcase classname="endpoints/team-site.test.ts" name="GET /api/team/{teamNumber}/site &gt; returns 400 for missing year" time="0.004989667">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/teams-crud.test.ts" timestamp="2026-02-27T05:11:39.737Z" hostname="9bec610576e0" tests="9" failures="0" errors="0" skipped="0" time="0.099896292">
        <testcase classname="endpoints/teams-crud.test.ts" name="Team CRUD &gt; GET /api/teams/{teamId} &gt; returns team with members for team member" time="0.031112125">
        </testcase>
        <testcase classname="endpoints/teams-crud.test.ts" name="Team CRUD &gt; GET /api/teams/{teamId} &gt; returns 403 for non-member" time="0.006640417">
        </testcase>
        <testcase classname="endpoints/teams-crud.test.ts" name="Team CRUD &gt; GET /api/teams/{teamId} &gt; returns 404 for nonexistent team" time="0.005215458">
        </testcase>
        <testcase classname="endpoints/teams-crud.test.ts" name="Team CRUD &gt; PUT /api/teams/{teamId} &gt; allows coach to update team name" time="0.027007333">
        </testcase>
        <testcase classname="endpoints/teams-crud.test.ts" name="Team CRUD &gt; PUT /api/teams/{teamId} &gt; rejects update by student" time="0.0054555">
        </testcase>
        <testcase classname="endpoints/teams-crud.test.ts" name="Team CRUD &gt; GET /api/teams/mine &gt; returns team memberships for authenticated user" time="0.005349">
        </testcase>
        <testcase classname="endpoints/teams-crud.test.ts" name="Team CRUD &gt; GET /api/teams/lookup/{teamNumber} &gt; finds team by number" time="0.003800916">
        </testcase>
        <testcase classname="endpoints/teams-crud.test.ts" name="Team CRUD &gt; POST /api/teams (duplicate) &gt; returns 409 for duplicate team number" time="0.008435959">
        </testcase>
        <testcase classname="endpoints/teams-crud.test.ts" name="Team CRUD &gt; POST /api/teams (duplicate) &gt; returns 401 with no auth" time="0.004674292">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/teams-join.test.ts" timestamp="2026-02-27T05:11:39.740Z" hostname="9bec610576e0" tests="6" failures="0" errors="0" skipped="0" time="0.046641292">
        <testcase classname="endpoints/teams-join.test.ts" name="Team Join Flow &gt; POST /api/teams/{teamId}/join-request &gt; authenticated user can create a join request" time="0.009668083">
        </testcase>
        <testcase classname="endpoints/teams-join.test.ts" name="Team Join Flow &gt; GET /api/teams/{teamId}/join-requests &gt; mentor can list pending join requests" time="0.007174625">
        </testcase>
        <testcase classname="endpoints/teams-join.test.ts" name="Team Join Flow &gt; GET /api/teams/{teamId}/join-requests &gt; student cannot list join requests" time="0.003250333">
        </testcase>
        <testcase classname="endpoints/teams-join.test.ts" name="Team Join Flow &gt; PUT /api/teams/{teamId}/join-requests/{requestId} &gt; approving a valid request works" time="0.016937">
        </testcase>
        <testcase classname="endpoints/teams-join.test.ts" name="Team Join Flow &gt; POST /api/teams/join/{code} (already a member) &gt; returns 409 when already a member" time="0.004841">
        </testcase>
        <testcase classname="endpoints/teams-join.test.ts" name="Team Join Flow &gt; POST /api/teams/join/{code} (already a member) &gt; returns 404 for invalid invite code" time="0.004280292">
        </testcase>
    </testsuite>
    <testsuite name="endpoints/teams-membership.test.ts" timestamp="2026-02-27T05:11:39.742Z" hostname="9bec610576e0" tests="6" failures="2" errors="0" skipped="0" time="0.039484916">
        <testcase classname="endpoints/teams-membership.test.ts" name="Team Membership — Invite &amp; Role Management &gt; POST /api/teams/{teamId}/invite &gt; mentor can create an invite code" time="0.008829542">
            <failure message="expected 403 to be 200 // Object.is equality" type="AssertionError">
AssertionError: expected 403 to be 200 // Object.is equality

- Expected
+ Received

- 200
+ 403

 ❯ endpoints/teams-membership.test.ts:19:26
            </failure>
        </testcase>
        <testcase classname="endpoints/teams-membership.test.ts" name="Team Membership — Invite &amp; Role Management &gt; POST /api/teams/{teamId}/invite &gt; student cannot create an invite code" time="0.004593458">
        </testcase>
        <testcase classname="endpoints/teams-membership.test.ts" name="Team Membership — Invite &amp; Role Management &gt; PUT /api/teams/{teamId}/members/{userId}/role &gt; coach can change a member role" time="0.012112917">
        </testcase>
        <testcase classname="endpoints/teams-membership.test.ts" name="Team Membership — Invite &amp; Role Management &gt; PUT /api/teams/{teamId}/members/{userId}/role &gt; mentor cannot change roles" time="0.004040959">
        </testcase>
        <testcase classname="endpoints/teams-membership.test.ts" name="Team Membership — Invite &amp; Role Management &gt; DELETE /api/teams/{teamId}/members/{userId} &gt; mentor can remove a student (then re-add)" time="0.005470625">
            <failure message="expected [ 200, 404 ] to include 403" type="AssertionError">
AssertionError: expected [ 200, 404 ] to include 403
 ❯ endpoints/teams-membership.test.ts:74:26
            </failure>
        </testcase>
        <testcase classname="endpoints/teams-membership.test.ts" name="Team Membership — Invite &amp; Role Management &gt; DELETE /api/teams/{teamId}/members/{userId} &gt; student cannot remove members" time="0.00408925">
        </testcase>
    </testsuite>
</testsuites>
